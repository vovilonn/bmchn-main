"use strict";

jQuery(function ($) {
  $(document).ready(function () {
    if (innerWidth > 1024) {
      var mainSlider = new Swiper('.main-slider .swiper-container', {
        direction: 'vertical',
        effect: 'fade',
        mousewheel: true,
        slidesPerView: 1,
        pagination: {
          el: '.swiper-pagination',
          clickable: true
        },
        on: {
          slideChange: function slideChange() {
            var index_currentSlide = this.realIndex;
            $('.js-main-slider-tabs li button').removeClass('active');
            $('.js-main-slider-tabs li button[data-slide-index=' + (index_currentSlide + 1) + ']').addClass('active');
          }
        }
      });
      $('.js-main-slider-tabs li button').click(function () {
        var index = $(this).attr('data-slide-index');
        $('.js-main-slider-tabs li button').removeClass('active');
        $(this).addClass('active');
        $('.main-slider .swiper-pagination-bullet:nth-child(' + index + ')').click();
      });
    }
    $('.js-nav-open').click(function () {
      $(this).toggleClass('active');
      $('.js-header-nav').toggleClass('active');
    });
    $('.js-services-popup-opener').click(function () {
      var index = $(this).attr('data-tab-index');
      $('.js-services-popup').addClass('active');
      $('.js-services-popup-nav button, .js-services-popup-container').removeClass('active');
      $('.js-services-popup-nav button[data-tab-index="' + index + '"]').addClass('active');
      $('.js-services-popup-container[data-tab-index="' + index + '"]').addClass('active');
    });
    $('.js-services-popup-nav button').click(function () {
      var index = $(this).attr('data-tab-index');
      $('.js-services-popup-nav button, .js-services-popup-container').removeClass('active');
      $('.js-services-popup-nav button[data-tab-index="' + index + '"]').addClass('active');
      $('.js-services-popup-container[data-tab-index="' + index + '"]').addClass('active');
    });
    $('.js-services-popup-close').click(function () {
      $('.js-services-popup').removeClass('active');
    });
    $('.js-store-tabs button').click(function () {
      var index = $(this).attr('data-store-slider-index');
      $('.js-store-tabs button, .js-store-slider').removeClass('active');
      $('.js-store-slider[data-store-slider-index="' + index + '"]').addClass('active');
      $('.js-store-tabs button[data-store-slider-index="' + index + '"]').addClass('active');
    });
    var storeSliders = $('.js-store-slider');
    if (storeSliders.length) {
      storeSliders.each(function () {
        var index = $(this).attr('data-store-slider-index');
        var storeSlider = new Swiper('.js-store-slider[data-store-slider-index="' + index + '"] .swiper-container', {
          direction: 'horizontal',
          mousewheel: false,
          slidesPerView: 4,
          spaceBetween: 12,
          pagination: false,
          navigation: {
            nextEl: '.js-store-slider[data-store-slider-index="' + index + '"] .js-store-slider-next',
            prevEl: '.js-store-slider[data-store-slider-index="' + index + '"] .js-store-slider-prev'
          }
        });
      });
    }
    var storeSlider = new Swiper('.js-team-slider .swiper-container', {
      direction: 'horizontal',
      mousewheel: false,
      slidesPerView: 3,
      spaceBetween: 12,
      pagination: false,
      navigation: {
        nextEl: '.js-team-slider-next',
        prevEl: '.js-team-slider-prev'
      }
    });
    $(window).on('scroll', function () {
      var st = $(window).scrollTop();
      var section = $('.biomachine-future');
      var sectionST = section.offset().top;
      var sectionHeight = section.height();
      var windowHeight = $(window).height();
      var point = sectionST + sectionHeight - windowHeight;
      if (st >= point) {
        $('.footer').addClass('--visible');
        $('.biomachine-string__bg').addClass('--visible');
        $('.js-page-nav').addClass('--hidden');
      } else {
        $('.biomachine-string__bg').removeClass('--visible');
        $('.footer').removeClass('--visible');
        $('.js-page-nav').removeClass('--hidden');
      }
    });
    $(window).on('scroll', function () {
      var st = $(window).scrollTop();
      var section = $('.js-store-section');
      var sectionST = section.offset().top;
      var point = sectionST - 200;
      if (st >= point) {
        section.removeClass('--inverted');
        $('.biomachine-promo.--last').addClass('--inverted');
      } else {
        section.addClass('--inverted');
        $('.biomachine-promo.--last').removeClass('--inverted');
      }
    });
    $('.biomachine-string__item').each(function () {
      var item = this;
      $(window).on('scroll', function () {
        var height = $(window).height();
        height = height - 150;
        var viewportOffset = item.getBoundingClientRect();
        var top = viewportOffset.top - height;
        if (top + 150 <= 0 && top + 150 >= -Math.abs(height / 2)) {
          var percent = top * 100 / height;
          percent = +Math.abs(percent);
          percent = Math.round(percent);
          var value = 0;
          value = percent * 2;
          $(item).css('opacity', value / 100);
          if (percent >= 40) {
            $(item).removeClass('--opacity');
          }
        }
        if (top + 150 <= -Math.abs(height / 2) && top + 150 >= -Math.abs(height)) {
          var _percent = top * 100 / height;
          _percent = +Math.abs(_percent);
          _percent = Math.round(_percent);
          var _value = 0;
          if (_percent >= 50 && _percent < 55) {
            _value = 0.9;
          } else if (_percent >= 55 && _percent < 60) {
            _value = 0.8;
          } else if (_percent >= 60 && _percent < 65) {
            _value = 0.7;
          } else if (_percent >= 65 && _percent < 70) {
            _value = 0.6;
          } else if (_percent >= 70 && _percent < 75) {
            _value = 0.5;
          } else if (_percent >= 75 && _percent < 80) {
            _value = 0.4;
          } else if (_percent >= 80 && _percent < 85) {
            _value = 0.3;
          } else if (_percent >= 85 && _percent < 90) {
            _value = 0.2;
          } else if (_percent >= 90 && _percent < 95) {
            _value = 0.1;
          } else if (_percent >= 90 && _percent < 100) {
            _value = 0;
          }
          if ($(item).hasClass('--last')) {
            $('.biomachine-string__bg').css('opacity', _value);
          }
          $(item).css('opacity', _value);
        }
      });
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdlbmVyYWwuanMiXSwibmFtZXMiOlsialF1ZXJ5IiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJpbm5lcldpZHRoIiwibWFpblNsaWRlciIsIlN3aXBlciIsImRpcmVjdGlvbiIsImVmZmVjdCIsIm1vdXNld2hlZWwiLCJzbGlkZXNQZXJWaWV3IiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwib24iLCJzbGlkZUNoYW5nZSIsImluZGV4X2N1cnJlbnRTbGlkZSIsInJlYWxJbmRleCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJjbGljayIsImluZGV4IiwiYXR0ciIsInRvZ2dsZUNsYXNzIiwic3RvcmVTbGlkZXJzIiwibGVuZ3RoIiwiZWFjaCIsInN0b3JlU2xpZGVyIiwic3BhY2VCZXR3ZWVuIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsIndpbmRvdyIsInN0Iiwic2Nyb2xsVG9wIiwic2VjdGlvbiIsInNlY3Rpb25TVCIsIm9mZnNldCIsInRvcCIsInNlY3Rpb25IZWlnaHQiLCJoZWlnaHQiLCJ3aW5kb3dIZWlnaHQiLCJwb2ludCIsIml0ZW0iLCJ2aWV3cG9ydE9mZnNldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIk1hdGgiLCJhYnMiLCJwZXJjZW50Iiwicm91bmQiLCJ2YWx1ZSIsImNzcyIsImhhc0NsYXNzIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxNQUFNLENBQUMsVUFBVUMsQ0FBQyxFQUFFO0VBQ2hCQSxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUFDQyxLQUFLLENBQUMsWUFBWTtJQUUxQixJQUFJQyxVQUFVLEdBQUcsSUFBSSxFQUFFO01BQ25CLElBQUlDLFVBQVUsR0FBRyxJQUFJQyxNQUFNLENBQUMsZ0NBQWdDLEVBQUU7UUFDMURDLFNBQVMsRUFBRSxVQUFVO1FBQ3JCQyxNQUFNLEVBQUUsTUFBTTtRQUNkQyxVQUFVLEVBQUUsSUFBSTtRQUNoQkMsYUFBYSxFQUFFLENBQUM7UUFDaEJDLFVBQVUsRUFBRTtVQUNS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QUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxFQUFFLEVBQUU7WUFDdENFLE1BQUssR0FBRyxHQUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxFQUFFLEVBQUU7WUFDdENFLE1BQUssR0FBRyxHQUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxFQUFFLEVBQUU7WUFDdENFLE1BQUssR0FBRyxHQUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxFQUFFLEVBQUU7WUFDdENFLE1BQUssR0FBRyxHQUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxFQUFFLEVBQUU7WUFDdENFLE1BQUssR0FBRyxHQUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxFQUFFLEVBQUU7WUFDdENFLE1BQUssR0FBRyxHQUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxFQUFFLEVBQUU7WUFDdENFLE1BQUssR0FBRyxHQUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxFQUFFLEVBQUU7WUFDdENFLE1BQUssR0FBRyxHQUFHO1VBQ2YsQ0FBQyxNQUFNLElBQUlGLFFBQU8sSUFBSSxFQUFFLElBQUlBLFFBQU8sR0FBRyxHQUFHLEVBQUU7WUFDdkNFLE1BQUssR0FBRyxDQUFDO1VBQ2I7VUFFQSxJQUFJakQsQ0FBQyxDQUFDMEMsSUFBSSxDQUFDLENBQUNTLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUM1Qm5ELENBQUMsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDa0QsR0FBRyxDQUFDLFNBQVMsRUFBRUQsTUFBSyxDQUFDO1VBQ3JEO1VBRUFqRCxDQUFDLENBQUMwQyxJQUFJLENBQUMsQ0FBQ1EsR0FBRyxDQUFDLFNBQVMsRUFBRUQsTUFBSyxDQUFDO1FBQ2pDO01BQ0osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDO0VBRU4sQ0FBQyxDQUFDO0FBQ04sQ0FBQyxDQUFDIiwiZmlsZSI6ImJ1aWxkLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImpRdWVyeShmdW5jdGlvbiAoJCkge1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBpZiAoaW5uZXJXaWR0aCA+IDEwMjQpIHtcbiAgICAgICAgICAgIGxldCBtYWluU2xpZGVyID0gbmV3IFN3aXBlcignLm1haW4tc2xpZGVyIC5zd2lwZXItY29udGFpbmVyJywge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcbiAgICAgICAgICAgICAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICBtb3VzZXdoZWVsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDEsXG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBlbDogJy5zd2lwZXItcGFnaW5hdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4X2N1cnJlbnRTbGlkZSA9IHRoaXMucmVhbEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLW1haW4tc2xpZGVyLXRhYnMgbGkgYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmpzLW1haW4tc2xpZGVyLXRhYnMgbGkgYnV0dG9uW2RhdGEtc2xpZGUtaW5kZXg9JyArIChpbmRleF9jdXJyZW50U2xpZGUgKyAxKSArICddJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLmpzLW1haW4tc2xpZGVyLXRhYnMgbGkgYnV0dG9uJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9ICQodGhpcykuYXR0cignZGF0YS1zbGlkZS1pbmRleCcpO1xuICAgICAgICAgICAgICAgICQoJy5qcy1tYWluLXNsaWRlci10YWJzIGxpIGJ1dHRvbicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAkKCcubWFpbi1zbGlkZXIgLnN3aXBlci1wYWdpbmF0aW9uLWJ1bGxldDpudGgtY2hpbGQoJyArIGluZGV4ICsgJyknKS5jbGljaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcuanMtbmF2LW9wZW4nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5qcy1oZWFkZXItbmF2JykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuanMtc2VydmljZXMtcG9wdXAtb3BlbmVyJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gJCh0aGlzKS5hdHRyKCdkYXRhLXRhYi1pbmRleCcpO1xuICAgICAgICAgICAgJCgnLmpzLXNlcnZpY2VzLXBvcHVwJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLmpzLXNlcnZpY2VzLXBvcHVwLW5hdiBidXR0b24sIC5qcy1zZXJ2aWNlcy1wb3B1cC1jb250YWluZXInKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcuanMtc2VydmljZXMtcG9wdXAtbmF2IGJ1dHRvbltkYXRhLXRhYi1pbmRleD1cIicgKyBpbmRleCArICdcIl0nKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcuanMtc2VydmljZXMtcG9wdXAtY29udGFpbmVyW2RhdGEtdGFiLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLmpzLXNlcnZpY2VzLXBvcHVwLW5hdiBidXR0b24nKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdGFiLWluZGV4Jyk7XG4gICAgICAgICAgICAkKCcuanMtc2VydmljZXMtcG9wdXAtbmF2IGJ1dHRvbiwgLmpzLXNlcnZpY2VzLXBvcHVwLWNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5qcy1zZXJ2aWNlcy1wb3B1cC1uYXYgYnV0dG9uW2RhdGEtdGFiLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5qcy1zZXJ2aWNlcy1wb3B1cC1jb250YWluZXJbZGF0YS10YWItaW5kZXg9XCInICsgaW5kZXggKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuanMtc2VydmljZXMtcG9wdXAtY2xvc2UnKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCcuanMtc2VydmljZXMtcG9wdXAnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJy5qcy1zdG9yZS10YWJzIGJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBpbmRleCA9ICQodGhpcykuYXR0cignZGF0YS1zdG9yZS1zbGlkZXItaW5kZXgnKTtcbiAgICAgICAgICAgICQoJy5qcy1zdG9yZS10YWJzIGJ1dHRvbiwgLmpzLXN0b3JlLXNsaWRlcicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICQoJy5qcy1zdG9yZS1zbGlkZXJbZGF0YS1zdG9yZS1zbGlkZXItaW5kZXg9XCInICsgaW5kZXggKyAnXCJdJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJCgnLmpzLXN0b3JlLXRhYnMgYnV0dG9uW2RhdGEtc3RvcmUtc2xpZGVyLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiXScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHN0b3JlU2xpZGVycyA9ICQoJy5qcy1zdG9yZS1zbGlkZXInKTtcblxuICAgICAgICBpZiAoc3RvcmVTbGlkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3RvcmVTbGlkZXJzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxldCBpbmRleCA9ICQodGhpcykuYXR0cignZGF0YS1zdG9yZS1zbGlkZXItaW5kZXgnKTtcbiAgICAgICAgICAgICAgICBsZXQgc3RvcmVTbGlkZXIgPSBuZXcgU3dpcGVyKCcuanMtc3RvcmUtc2xpZGVyW2RhdGEtc3RvcmUtc2xpZGVyLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiXSAuc3dpcGVyLWNvbnRhaW5lcicsIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICAgICAgICAgIG1vdXNld2hlZWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNQZXJWaWV3OiA0LFxuICAgICAgICAgICAgICAgICAgICBzcGFjZUJldHdlZW46IDEyLFxuICAgICAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEVsOiAnLmpzLXN0b3JlLXNsaWRlcltkYXRhLXN0b3JlLXNsaWRlci1pbmRleD1cIicgKyBpbmRleCArICdcIl0gLmpzLXN0b3JlLXNsaWRlci1uZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbDogJy5qcy1zdG9yZS1zbGlkZXJbZGF0YS1zdG9yZS1zbGlkZXItaW5kZXg9XCInICsgaW5kZXggKyAnXCJdIC5qcy1zdG9yZS1zbGlkZXItcHJldidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHN0b3JlU2xpZGVyID0gbmV3IFN3aXBlcignLmpzLXRlYW0tc2xpZGVyIC5zd2lwZXItY29udGFpbmVyJywge1xuICAgICAgICAgICAgZGlyZWN0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICBtb3VzZXdoZWVsOiBmYWxzZSxcbiAgICAgICAgICAgIHNsaWRlc1BlclZpZXc6IDMsXG4gICAgICAgICAgICBzcGFjZUJldHdlZW46IDEyLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogZmFsc2UsXG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgbmV4dEVsOiAnLmpzLXRlYW0tc2xpZGVyLW5leHQnLFxuICAgICAgICAgICAgICAgIHByZXZFbDogJy5qcy10ZWFtLXNsaWRlci1wcmV2J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgc3QgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgICBsZXQgc2VjdGlvbiA9ICQoJy5iaW9tYWNoaW5lLWZ1dHVyZScpXG4gICAgICAgICAgICBsZXQgc2VjdGlvblNUID0gc2VjdGlvbi5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICBsZXQgc2VjdGlvbkhlaWdodCA9IHNlY3Rpb24uaGVpZ2h0KCk7XG4gICAgICAgICAgICBsZXQgd2luZG93SGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gKHNlY3Rpb25TVCArIHNlY3Rpb25IZWlnaHQpIC0gd2luZG93SGVpZ2h0O1xuXG4gICAgICAgICAgICBpZiAoc3QgPj0gcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAkKCcuZm9vdGVyJykuYWRkQ2xhc3MoJy0tdmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICQoJy5iaW9tYWNoaW5lLXN0cmluZ19fYmcnKS5hZGRDbGFzcygnLS12aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgJCgnLmpzLXBhZ2UtbmF2JykuYWRkQ2xhc3MoJy0taGlkZGVuJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJy5iaW9tYWNoaW5lLXN0cmluZ19fYmcnKS5yZW1vdmVDbGFzcygnLS12aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgJCgnLmZvb3RlcicpLnJlbW92ZUNsYXNzKCctLXZpc2libGUnKTtcbiAgICAgICAgICAgICAgICAkKCcuanMtcGFnZS1uYXYnKS5yZW1vdmVDbGFzcygnLS1oaWRkZW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCh3aW5kb3cpLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgc3QgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCk7XG4gICAgICAgICAgICBsZXQgc2VjdGlvbiA9ICQoJy5qcy1zdG9yZS1zZWN0aW9uJylcbiAgICAgICAgICAgIGxldCBzZWN0aW9uU1QgPSBzZWN0aW9uLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IHNlY3Rpb25TVCAtIDIwMDtcblxuICAgICAgICAgICAgaWYgKHN0ID49IHBvaW50KSB7XG4gICAgICAgICAgICAgICAgc2VjdGlvbi5yZW1vdmVDbGFzcygnLS1pbnZlcnRlZCcpO1xuICAgICAgICAgICAgICAgICQoJy5iaW9tYWNoaW5lLXByb21vLi0tbGFzdCcpLmFkZENsYXNzKCctLWludmVydGVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlY3Rpb24uYWRkQ2xhc3MoJy0taW52ZXJ0ZWQnKTtcbiAgICAgICAgICAgICAgICAkKCcuYmlvbWFjaGluZS1wcm9tby4tLWxhc3QnKS5yZW1vdmVDbGFzcygnLS1pbnZlcnRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgICQoJy5iaW9tYWNoaW5lLXN0cmluZ19faXRlbScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzO1xuXG4gICAgICAgICAgICAkKHdpbmRvdykub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgaGVpZ2h0ID0gJCh3aW5kb3cpLmhlaWdodCgpO1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IGhlaWdodCAtIDE1MDtcbiAgICAgICAgICAgICAgICBsZXQgdmlld3BvcnRPZmZzZXQgPSBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIGxldCB0b3AgPSB2aWV3cG9ydE9mZnNldC50b3AgLSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgaWYgKCh0b3AgKyAxNTApIDw9IDAgJiYgKHRvcCArIDE1MCkgPj0gLU1hdGguYWJzKGhlaWdodCAvIDIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZXJjZW50ID0gKHRvcCAqIDEwMCkgLyBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnQgPSArTWF0aC5hYnMocGVyY2VudCk7XG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnQgPSBNYXRoLnJvdW5kKHBlcmNlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGVyY2VudCAqIDI7XG4gICAgICAgICAgICAgICAgICAgICQoaXRlbSkuY3NzKCdvcGFjaXR5JywgdmFsdWUgLyAxMDApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZXJjZW50ID49IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKGl0ZW0pLnJlbW92ZUNsYXNzKCctLW9wYWNpdHknKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICgodG9wICsgMTUwKSA8PSAtTWF0aC5hYnMoaGVpZ2h0IC8gMikgJiYgKHRvcCArIDE1MCkgPj0gLU1hdGguYWJzKGhlaWdodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlcmNlbnQgPSAodG9wICogMTAwKSAvIGhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9ICtNYXRoLmFicyhwZXJjZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcGVyY2VudCA9IE1hdGgucm91bmQocGVyY2VudCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlcmNlbnQgPj0gNTAgJiYgcGVyY2VudCA8IDU1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDAuOTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwZXJjZW50ID49IDU1ICYmIHBlcmNlbnQgPCA2MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwLjg7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGVyY2VudCA+PSA2MCAmJiBwZXJjZW50IDwgNjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMC43O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBlcmNlbnQgPj0gNjUgJiYgcGVyY2VudCA8IDcwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDAuNjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwZXJjZW50ID49IDcwICYmIHBlcmNlbnQgPCA3NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwLjU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGVyY2VudCA+PSA3NSAmJiBwZXJjZW50IDwgODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMC40O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBlcmNlbnQgPj0gODAgJiYgcGVyY2VudCA8IDg1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IDAuMztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwZXJjZW50ID49IDg1ICYmIHBlcmNlbnQgPCA5MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwLjI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGVyY2VudCA+PSA5MCAmJiBwZXJjZW50IDwgOTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gMC4xO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBlcmNlbnQgPj0gOTAgJiYgcGVyY2VudCA8IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoaXRlbSkuaGFzQ2xhc3MoJy0tbGFzdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuYmlvbWFjaGluZS1zdHJpbmdfX2JnJykuY3NzKCdvcGFjaXR5JywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJChpdGVtKS5jc3MoJ29wYWNpdHknLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cbiAgICB9KTtcbn0pOyJdfQ==